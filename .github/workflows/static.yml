# Simple workflow for deploying static content to GitHub Pages
name: Deploy static content to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Single deploy job since we're just deploying
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v5
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # Upload entire repository
          path: '.'
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Do_You-Do_You Saint-Tropez</title>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#f7f5f2;--card:#fff;--accent:#c99b64;--muted:#6f6a64;--maxw:1100px}
    *{box-sizing:border-box}
    body{font-family:Lato,system-ui,Arial,sans-serif;background:var(--bg);margin:0;color:#222}
    .container{max-width:var(--maxw);margin:0 auto;padding:18px}
    header{display:flex;justify-content:space-between;align-items:center;padding:12px 0}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:64px;height:64px;border-radius:10px;background:linear-gradient(135deg,#fff,#f2ebe6);display:flex;align-items:center;justify-content:center;font-family:Playfair Display,serif;color:var(--accent);font-size:20px}
    .shop-name{font-family:Playfair Display,serif;font-size:20px;margin:0}
    nav{display:flex;gap:12px;align-items:center}
    nav a{color:var(--muted);text-decoration:none}
    /* top cart icon */
    .cart-btn{position:relative;border:none;background:transparent;cursor:pointer;font-size:18px}
    .cart-count{position:absolute;top:-6px;right:-6px;background:#111;color:#fff;border-radius:12px;padding:2px 6px;font-size:12px}

    /* hero placeholder */
    .hero{border-radius:12px;overflow:hidden;background:linear-gradient(180deg,#cfc6b9, #f7f5f2);padding:28px;display:flex;gap:18px;align-items:center}
    .hero-left{flex:1}
    .hero h1{font-family:Playfair Display,serif;font-size:36px;margin:0;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,0.25)}
    .hero p{color:#fff;opacity:0.95}
    .hero-cta{display:inline-block;margin-top:12px;padding:10px 16px;border-radius:12px;background:var(--accent);color:#fff;text-decoration:none}

    /* collections */
    .collections{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:18px}
    .col{background:var(--card);padding:14px;border-radius:12px;text-align:center;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .col h3{font-family:Playfair Display,serif;margin:8px 0}

    /* products grid */
    .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-top:18px}
    .product{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 8px 22px rgba(0,0,0,0.06);display:flex;flex-direction:column}
    .prod-img{height:200px;background:#eee;display:flex;align-items:center;justify-content:center}
    .prod-body{padding:12px}
    .prod-body h4{margin:0;font-family:Playfair Display,serif}
    .meta{color:var(--muted);font-size:13px;margin-top:6px}
    .price{color:var(--accent);font-weight:700;margin-top:8px}
    .actions{display:flex;gap:8px;margin-top:12px}
    .btn{padding:8px 12px;border-radius:10px;text-decoration:none;background:#111;color:#fff;cursor:pointer}
    .btn.secondary{background:transparent;border:1px solid #ddd;color:#111}

    /* small modal / drawer */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.4);display:none;align-items:center;justify-content:center;z-index:90}
    .overlay.open{display:flex}
    .modal{background:var(--card);border-radius:12px;padding:14px;width:92%;max-width:720px}

    /* cart drawer */
    .cart-drawer{position:fixed;right:20px;top:80px;width:360px;max-height:80vh;background:var(--card);box-shadow:0 12px 40px rgba(0,0,0,0.2);border-radius:12px;padding:12px;overflow:auto;z-index:120;display:none}
    .cart-drawer.open{display:block}
    .cart-item{display:flex;gap:8px;align-items:center;border-bottom:1px solid #f0eee9;padding:8px 0}
    .cart-item .thumb{width:72px;height:72px;background:#f3f3f3;border-radius:8px;display:flex;align-items:center;justify-content:center}
    .qty{display:flex;align-items:center;gap:6px}
    .qty button{padding:4px 8px;border-radius:6px;border:1px solid #ddd;background:transparent;cursor:pointer}
    .remove{background:transparent;border:none;color:#b33;cursor:pointer}

    .empty{color:var(--muted);padding:24px;text-align:center}
    .cart-actions{display:flex;justify-content:space-between;align-items:center;margin-top:12px}

    /* small responsive */
    @media (max-width:900px){.collections{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">BT</div>
        <div>
          <div class="shop-name" id="shop-name">Boutique Trop√©zienne</div>
          <div style="font-size:12px;color:var(--muted)">Tropical chic ‚Ä¢ Saint-Tropez vibes</div>
        </div>
      </div>
      <nav>
        <a href="#home" data-route="home">Home</a>
        <a href="#collections" data-route="collections">Collection</a>
        <button class="cart-btn" id="open-cart" title="Voir le panier">üõí<span class="cart-count" id="cart-count">0</span></button>
      </nav>
    </header>

    <main id="main-area">
      <!-- HERO -->
      <section class="hero" id="hero">
        <div class="hero-left">
          <h1 id="hero-title">√âcharpes & accessoires ‚Äî l'√©l√©gance trop√©zienne</h1>
          <p id="hero-sub">Soies d√©licates, cachemires chaleureux et accessoires qui subliment votre sac. (Photos ajout√©es plus tard)</p>
          <a class="hero-cta" id="cta-collections" href="#collections">Voir les collections</a>
        </div>
        <div style="width:280px;height:180px;border-radius:10px;background:linear-gradient(180deg,#fff,#f3efe6);display:flex;align-items:center;justify-content:center">
          <div style="text-align:center;color:var(--muted)">Image d'accueil<br><small>(√† ajouter plus tard)</small></div>
        </div>
      </section>

      <!-- Collections -->
      <section class="collections" id="collections-section">
        <div class="col" data-collection="soie"><h3>Silk Scarves<br/><small style="color:var(--muted)">√âcharpes en soie</small></h3></div>
        <div class="col" data-collection="cachemire"><h3>Cashmere<br/><small style="color:var(--muted)">Cachemire</small></h3></div>
        <div class="col" data-collection="accessoires"><h3>Accessories<br/><small style="color:var(--muted)">Accessoires</small></h3></div>
      </section>

      <!-- Products area (dynamic) -->
      <section id="products-area"></section>

      <!-- Best sellers -->
      <section id="bestsellers"></section>
    </main>

    <footer style="margin-top:26px;color:var(--muted)">¬© <span id="year"></span> Boutique Trop√©zienne ‚Äî Mentions l√©gales</footer>
  </div>

  <!-- Cart drawer -->
  <div class="cart-drawer" id="cart-drawer">
    <h3>Mon panier</h3>
    <div id="cart-contents"></div>
    <div id="cart-empty" class="empty">Vous n'avez encore rien ajout√© dans votre panier</div>
    <div class="cart-actions">
      <div style="font-weight:700;color:var(--muted)" id="cart-total">Total: 0 ‚Ç¨</div>
      <div>
        <button class="btn secondary" id="continue-shopping">Continuer mes achats</button>
        <button class="btn" id="checkout-now">Acheter</button>
      </div>
    </div>
  </div>

  <!-- Overlay modal for product & checkout -->
  <div class="overlay" id="overlay">
    <div class="modal" id="modal-content"></div>
  </div>

  <script>
    // --------------------
    // Data (modifiable)
    // --------------------
    const STORE = {
      shopName: 'Boutique Trop√©zienne',
      email: 'contact@boutique.test',
      products: [
        {id:'soie1',category:'soie',name:'Fleur Proven√ßale',price:10,composition:'100% soie',bestseller:true},
        {id:'soie2',category:'soie',name:'Rayures Boh√®me',price:20,composition:'100% soie',bestseller:true},
        {id:'soie3',category:'soie',name:'√âtoiles Nuit',price:25,composition:'100% soie',bestseller:true},
        {id:'soie4',category:'soie',name:'Vagues Maritimes',price:30,composition:'100% soie',bestseller:true},
        {id:'cash1',category:'cachemire',name:'Triangle Doux',price:55,composition:'100% cachemire',bestseller:true},
        {id:'cash2',category:'cachemire',name:'√âtole √âl√©gante',price:95,composition:'100% cachemire',bestseller:true},
        {id:'cash3',category:'cachemire',name:'√âcharpe Fine',price:65,composition:'100% cachemire'},
        {id:'cash4',category:'cachemire',name:'Triangle Chic',price:60,composition:'100% cachemire'},
        {id:'acc1',category:'accessoires',name:'Mini Sac - Style 1',price:75,composition:'cuir synth√©tique',bestseller:true},
        {id:'acc2',category:'accessoires',name:'Mini Sac - Style 2',price:85,composition:'cuir synth√©tique',bestseller:true},
        {id:'acc3',category:'accessoires',name:'Tongue - Style A',price:45,composition:'m√©tal & cuir',bestseller:true},
        {id:'acc4',category:'accessoires',name:'Tongue - Style B',price:60,composition:'m√©tal & cuir',bestseller:true}
      ]
    };

    // --------------------
    // Cart logic (stored in localStorage)
    // --------------------
    const CART_KEY = 'bt_cart_v1';
    function loadCart(){ try{ return JSON.parse(localStorage.getItem(CART_KEY)) || {} }catch(e){return{}} }
    function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); renderCart(); }

    function addToCart(productId, qty=1){ const cart=loadCart(); cart[productId] = (cart[productId]||0)+qty; saveCart(cart); showToast('Ajout√© au panier'); }
    function removeFromCart(productId){ const cart=loadCart(); if(cart[productId]){ delete cart[productId]; saveCart(cart); } }
    function setQty(productId, qty){ const cart=loadCart(); if(qty<=0){ delete cart[productId]; } else cart[productId]=qty; saveCart(cart); }
    function cartCount(){ const cart=loadCart(); return Object.values(cart).reduce((a,b)=>a+b,0); }
    function cartTotal(){ const cart=loadCart(); let total=0; for(const id in cart){ const p=STORE.products.find(x=>x.id===id); if(p) total += p.price * cart[id]; } return total; }

    // --------------------
    // Rendering
    // --------------------
    const main = document.getElementById('main-area');
    const productsArea = document.getElementById('products-area');
    const bestsellersArea = document.getElementById('bestsellers');
    const cartCountEl = document.getElementById('cart-count');
    const cartDrawer = document.getElementById('cart-drawer');
    const cartContents = document.getElementById('cart-contents');
    const cartEmpty = document.getElementById('cart-empty');
    const cartTotalEl = document.getElementById('cart-total');

    function renderCollections(){ document.getElementById('collections-section').style.display='grid'; productsArea.innerHTML=''; bestsellersArea.innerHTML=''; }

    function renderProducts(category){ document.getElementById('collections-section').style.display='none'; productsArea.innerHTML=''; bestsellersArea.innerHTML='';
      const title = document.createElement('h2'); title.className='page-title'; title.innerText = category==='soie'? 'Soie' : category==='cachemire'? 'Cachemire' : 'Accessoires'; productsArea.appendChild(title);
      const elems = document.createElement('div'); elems.className='products';
      const list = STORE.products.filter(p=>p.category===category);
      list.forEach(p=>{ const card = makeProductCard(p); elems.appendChild(card); });
      productsArea.appendChild(elems);
    }

    function makeProductCard(p){ const card = document.createElement('div'); card.className='product';
      const img = document.createElement('div'); img.className='prod-img'; img.innerHTML = '<div style="color:var(--muted)'>No image</div>';
      const body = document.createElement('div'); body.className='prod-body';
      const h4 = document.createElement('h4'); h4.innerText = p.name; body.appendChild(h4);
      const meta = document.createElement('div'); meta.className='meta'; meta.innerText = p.composition || '';
      body.appendChild(meta);
      const price = document.createElement('div'); price.className='price'; price.innerText = p.price + ' ‚Ç¨'; body.appendChild(price);
      const actions = document.createElement('div'); actions.className='actions';
      const addBtn = document.createElement('button'); addBtn.className='btn secondary'; addBtn.innerText='Ajouter au panier'; addBtn.onclick = ()=> { openProductModal(p, true); };
      const buyBtn = document.createElement('button'); buyBtn.className='btn'; buyBtn.innerText='Acheter'; buyBtn.onclick = ()=> { openProductModal(p, false, true); };
      actions.appendChild(addBtn); actions.appendChild(buyBtn);
      body.appendChild(actions);
      card.appendChild(img); card.appendChild(body);
      return card; }

    function renderBestsellers(){ bestsellersArea.innerHTML=''; const title=document.createElement('h2'); title.innerText='Best Sellers'; bestsellersArea.appendChild(title);
      ['soie','cachemire','accessoires'].forEach(cat=>{
        const catTitle = document.createElement('h3'); catTitle.innerText = cat.charAt(0).toUpperCase()+cat.slice(1); bestsellersArea.appendChild(catTitle);
        const grid = document.createElement('div'); grid.className='products';
        const best = STORE.products.filter(p=>p.category===cat && p.bestseller).slice(0,4);
        const list = best.length? best : STORE.products.filter(p=>p.category===cat).slice(0,4);
        list.forEach(p=> grid.appendChild(makeProductCard(p)));
        bestsellersArea.appendChild(grid);
      }); }

    function renderCart(){ cartCountEl.innerText = cartCount(); cartContents.innerHTML=''; const cart = loadCart(); const ids = Object.keys(cart);
      if(ids.length===0){ cartEmpty.style.display='block'; cartContents.style.display='none'; } else { cartEmpty.style.display='none'; cartContents.style.display='block';
        for(const id of ids){ const qty = cart[id]; const p = STORE.products.find(x=>x.id===id); if(!p) continue;
          const item = document.createElement('div'); item.className='cart-item';
          const thumb = document.createElement('div'); thumb.className='thumb'; thumb.innerHTML='<div style="color:var(--muted)"$img/div>'
          const metaWrap = document.createElement('div'); metaWrap.style.flex='1';
          const name = document.createElement('div'); name.style.fontWeight='700'; name.innerText = p.name; metaWrap.appendChild(name);
          const price = document.createElement('div'); price.className='meta'; price.innerText = p.price + ' ‚Ç¨'; metaWrap.appendChild(price);
          const controls = document.createElement('div'); controls.style.display='flex'; controls.style.flexDirection='column'; controls.style.alignItems='flex-end';
          const qtyWrap = document.createElement('div'); qtyWrap.className='qty';
          const minus = document.createElement('button'); minus.innerText='-'; minus.onclick = ()=> { setQty(id, Math.max(0, loadCart()[id]-1)); };
          const qtyBox = document.createElement('div'); qtyBox.style.padding='6px 10px'; qtyBox.style.border='1px solid #eee'; qtyBox.style.borderRadius='6px'; qtyBox.innerText = qty;
          const plus = document.createElement('button'); plus.innerText='+'; plus.onclick = ()=> { setQty(id, loadCart()[id]+1); };
          qtyWrap.appendChild(minus); qtyWrap.appendChild(qtyBox); qtyWrap.appendChild(plus);
          const remove = document.createElement('button'); remove.className='remove'; remove.innerHTML='üóëÔ∏è'; remove.onclick = ()=> { if(confirm('√ätes-vous s√ªr de vouloir supprimer cet article ?')){ removeFromCart(id); } };
          controls.appendChild(qtyWrap); controls.appendChild(remove);

          item.appendChild(thumb); item.appendChild(metaWrap); item.appendChild(controls);
          cartContents.appendChild(item);
        }
      }
      cartTotalEl.innerText = 'Total: ' + cartTotal() + ' ‚Ç¨'; }

    // --------------------
    // Modals: product modal & checkout
    // --------------------
    const overlay = document.getElementById('overlay'); const modalContent = document.getElementById('modal-content');
    function openProductModal(p, isAdd=false, isBuy=false){ // isAdd: show add to cart flow; isBuy: direct checkout
      overlay.classList.add('open'); overlay.style.display='flex';
      modalContent.innerHTML = '';
      const h = document.createElement('h3'); h.innerText = p.name; modalContent.appendChild(h);
      const desc = document.createElement('div'); desc.className='meta'; desc.innerText = p.composition || '';
      modalContent.appendChild(desc);
      const price = document.createElement('div'); price.className='price'; price.innerText = p.price + ' ‚Ç¨'; modalContent.appendChild(price);
      // quantity
      const qtyLabel = document.createElement('div'); qtyLabel.style.marginTop='12px'; qtyLabel.innerText='Quantit√© : ';
      const qtyBox = document.createElement('input'); qtyBox.type='number'; qtyBox.value=1; qtyBox.min=1; qtyBox.style.width='80px'; qtyBox.style.marginLeft='8px'; qtyLabel.appendChild(qtyBox); modalContent.appendChild(qtyLabel);
      // buttons: add and buy
      const row = document.createElement('div'); row.style.marginTop='12px'; row.style.display='flex'; row.style.gap='8px';
      const addBtn = document.createElement('button'); addBtn.className='btn secondary'; addBtn.innerText='Ajouter au panier'; addBtn.onclick = ()=>{ addToCart(p.id, Number(qtyBox.value)); showContinueAfterAdd(); };
      const buyBtn = document.createElement('button'); buyBtn.className='btn'; buyBtn.innerText='Acheter'; buyBtn.onclick = ()=>{ addToCart(p.id, Number(qtyBox.value)); openCheckout(); };
      row.appendChild(addBtn); row.appendChild(buyBtn);
      modalContent.appendChild(row);
      // close on overlay click
      overlay.onclick = (e)=>{ if(e.target===overlay) closeModal(); };
    }
    function showContinueAfterAdd(){ // after adding, show continue shopping button
      modalContent.innerHTML = '<p style="margin:8px 0">Article ajout√© au panier.</p>';
      const cont = document.createElement('button'); cont.className='btn secondary'; cont.innerText='Continuer mes achats'; cont.onclick = ()=>{ closeModal(); renderCollections(); };
      const goCart = document.createElement('button'); goCart.className='btn'; goCart.innerText='Voir mon panier'; goCart.onclick = ()=>{ closeModal(); openCart(); };
      modalContent.appendChild(cont); modalContent.appendChild(goCart);
    }
    function closeModal(){ overlay.classList.remove('open'); overlay.style.display='none'; modalContent.innerHTML=''; }

    // --------------------
    // Checkout (simulated here)
    // - Presents options: Apple Pay / Google Pay / Card
    // - Card flow asks to choose brand (Visa/Mastercard), number, expiry, CVC
    // Note: this is a simulated front-end checkout. For real payments you must
    // connect to a payment provider (Stripe) and use a secure server.
    // --------------------
    function openCheckout(){ overlay.classList.add('open'); overlay.style.display='flex';
      modalContent.innerHTML = '<h3>Checkout</h3>';
      const tot = document.createElement('div'); tot.className='meta'; tot.innerText = 'Montant total : ' + cartTotal() + ' ‚Ç¨'; modalContent.appendChild(tot);
      // payment methods
      const pwrap = document.createElement('div'); pwrap.style.marginTop='12px';
      pwrap.innerHTML = `
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <button class='btn' id='pay-apple'>Apple Pay</button>
          <button class='btn' id='pay-google'>Google Pay</button>
          <button class='btn secondary' id='pay-card'>Card</button>
        </div>
      `; modalContent.appendChild(pwrap);
      document.getElementById('pay-apple').onclick = ()=> simulateWallet('Apple Pay');
      document.getElementById('pay-google').onclick = ()=> simulateWallet('Google Pay');
      document.getElementById('pay-card').onclick = ()=> showCardForm();
    }
    function simulateWallet(name){ modalContent.innerHTML = `<h3>${name}</h3><p class="meta">Redirecting to ${name} (simulation)</p>`;
      setTimeout(()=>{ modalContent.innerHTML += `<p style="color:green">Paiement ${name} simul√© avec succ√®s. Merci !</p>`; clearCart(); },1200);
    }
    function showCardForm(){ modalContent.innerHTML = '<h3>Paiement par carte</h3>';
      const form = document.createElement('div'); form.innerHTML = `
        <div style="margin-top:8px">Choice card brand: <select id='card-brand'><option>Visa</option><option>Mastercard</option><option>Amex</option></select></div>
        <div style="margin-top:8px">Card number: <input id='card-number' placeholder='4242 4242 4242 4242' style='width:100%'/></div>
        <div style="display:flex;gap:8px;margin-top:8px"><div style='flex:1'>Expiry: <input id='card-expiry' placeholder='MM/AA' /></div><div style='width:120px'>CVC: <input id='card-cvc' placeholder='123' /></div></div>
        <div style="margin-top:10px">Livraison: <select id='delivery'><option>Retrait local (gratuit)</option><option>Livraison standard (5‚Ç¨)</option><option>Livraison express (10‚Ç¨)</option></select></div>
        <div style='margin-top:12px;display:flex;gap:8px'><button class='btn' id='pay-card-submit'>Payer</button><button class='btn secondary' id='pay-card-cancel'>Annuler</button></div>
      `;
      modalContent.appendChild(form);
      document.getElementById('pay-card-cancel').onclick = ()=> closeModal();
      document.getElementById('pay-card-submit').onclick = ()=>{ // simple validation
        const number = document.getElementById('card-number').value.trim(); const expiry = document.getElementById('card-expiry').value.trim(); const cvc = document.getElementById('card-cvc').value.trim();
        if(number.length<12 || cvc.length<3){ alert('Veuillez entrer les informations de carte valides (simulation).'); return; }
        modalContent.innerHTML = '<p class="meta">Traitement du paiement (simulation)...</p>';
        setTimeout(()=>{ modalContent.innerHTML = '<p style="color:green">Paiement simul√© avec succ√®s ‚Äî merci !</p>'; clearCart(); },1200);
      };
    }

    function clearCart(){ localStorage.removeItem(CART_KEY); renderCart(); setTimeout(()=>{ closeModal(); openConfirmation('Merci ‚Äî votre commande a √©t√© prise en compte (simulation).'); },800); }
    function openConfirmation(msg){ overlay.classList.add('open'); overlay.style.display='flex'; modalContent.innerHTML = `<h3>Confirmation</h3><p class='meta'>${msg}</p><div style='margin-top:12px'><button class='btn' onclick='closeModal();'>Retour aux collections</button></div>`; }

    // --------------------
    // UI helpers
    // --------------------
    function openCart(){ cartDrawer.classList.add('open'); cartDrawer.style.display='block'; renderCart(); }
    function closeCart(){ cartDrawer.classList.remove('open'); cartDrawer.style.display='none'; }
    document.getElementById('open-cart').onclick = ()=>{ if(cartDrawer.classList.contains('open')) closeCart(); else openCart(); };
    document.getElementById('continue-shopping').onclick = ()=>{ closeCart(); renderCollections(); window.scrollTo({top:0,behavior:'smooth'}) };
    document.getElementById('checkout-now').onclick = ()=>{ closeCart(); openCheckout(); };

    function showToast(msg){ // small ephemeral message
      const t = document.createElement('div'); t.style.position='fixed'; t.style.right='20px'; t.style.bottom='20px'; t.style.background='rgba(0,0,0,0.8)'; t.style.color='#fff'; t.style.padding='8px 12px'; t.style.borderRadius='8px'; t.style.zIndex='200'; t.innerText=msg; document.body.appendChild(t); setTimeout(()=> t.remove(),1400);
      renderCart();
    }

    // nav
    document.querySelectorAll('[data-route]').forEach(a=> a.addEventListener('click', e=>{ e.preventDefault(); const r=a.getAttribute('data-route'); if(r==='home'){ renderCollections(); window.scrollTo({top:0,behavior:'smooth'}) } else if(r==='collections'){ renderCollections(); window.scrollTo({top:0,behavior:'smooth'}) } }));
    document.querySelectorAll('[data-collection]').forEach(c=> c.addEventListener('click', ()=>{ const key=c.getAttribute('data-collection'); renderProducts(key); window.scrollTo({top:0,behavior:'smooth'}) }));

    // Init
    document.getElementById('year').innerText = new Date().getFullYear();
    document.getElementById('shop-name').innerText = STORE.shopName;
    renderCollections(); renderBestsellers(); renderCart();

    // Expose for debugging
    window.STORE = STORE; window.addToCart = addToCart; window.loadCart = loadCart;
  </script>
</body>
</html>
